# Real-time Audio Transcription with VAD

Проект для записи аудио и транскрипции в реальном времени с использованием продвинутого VAD (Voice Activity Detection), который предотвращает обрывы на пол-слова.

## Возможности

- Запись аудио с микрофона в реальном времени
- Продвинутый VAD на основе Silero VAD
- Буферизация для предотвращения обрывов на пол-слова
- Транскрипция через локальный Whisper (faster-whisper)
- CLI интерфейс для простого использования

## Установка

1. Установите зависимости:

```bash
pip install -r requirements.txt
```

2. При первом запуске Whisper автоматически загрузит выбранную модель.

## Использование

Базовое использование:

```bash
python -m app.main
```

С параметрами:

```bash
python -m app.main --model-size base --language ru --post-speech-buffer-ms 500
```

### Параметры

- `--sample-rate`: Частота дискретизации аудио (по умолчанию: 16000)
- `--model-size`: Размер модели Whisper - tiny, base, small, medium, large (по умолчанию: base)
- `--device`: Устройство для обработки - cpu или cuda (по умолчанию: cpu)
- `--language`: Код языка (например, 'en', 'ru'). None для автоопределения
- `--pre-speech-buffer-ms`: Буфер перед началом речи в миллисекундах (по умолчанию: 300)
- `--post-speech-buffer-ms`: Буфер после окончания речи для предотвращения обрывов (по умолчанию: 500)

## Как это работает

1. **Запись аудио**: Модуль `AudioRecorder` записывает аудио с микрофона в реальном времени
2. **VAD обработка**: `VoiceActivityDetector` анализирует аудио и определяет активность речи
3. **Буферизация**: Система сохраняет аудио до и после речи для предотвращения обрывов
4. **Транскрипция**: Завершенные сегменты речи транскрибируются через Whisper
5. **Вывод**: Результаты транскрипции выводятся в консоль в реальном времени

## Структура проекта

```
interview/
├── app/
│   ├── audio/
│   │   ├── recorder.py          # Запись аудио
│   │   └── audio_processor.py   # Обработка аудио
│   ├── vad/
│   │   └── voice_activity_detector.py  # VAD с буферизацией
│   ├── transcription/
│   │   └── whisper_transcriber.py      # Транскрипция
│   └── main.py                   # CLI приложение
├── requirements.txt
└── README.md
```

## Остановка

Нажмите `Ctrl+C` для остановки записи и транскрипции.

